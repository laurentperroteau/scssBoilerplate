
// ::: S P R I T E   M I X I N ::: //
// --------------------------------//

// Set an image sprite
// ===================
// @param $iconName => image name
// @important: all image sizes "retina" must be exactly twice of normal image
// @important: never call this mixin inside media queries
// @see: change path and selector in base.scss
// @use: .elem:before {
//          @include sprite(arrow); @extend %icon;
//       }
// @idea: http://www.vtcreative.fr/blog/creation-de-sprites-avec-sass-et-compass/ (in french)
@mixin sprite($iconName) {

    &:#{$pseudoSelector} {
        background-position: sprite-position($sprites, $iconName);
        height: image-height(sprite-file($sprites, $iconName));
        width: image-width(sprite-file($sprites, $iconName));
    }
    
    @media (-webkit-min-device-pixel-ratio: 1.5),
           (-o-min-device-pixel-ratio: 3/2), 
           (min-device-pixel-ratio: 1.5) {
        
        &:#{$pseudoSelector} {   
            background-position: 0 round(nth(sprite-position($sprites2x, $iconName), 2) / 2);
        }
    }
}